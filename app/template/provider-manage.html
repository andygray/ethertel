<div class="container mb-page">

    <h2>Rate Card Balance: <span class="label label-success">{{ ProviderManageController.balance }} WEI</span></h2>
    <div class="row">
        <div class="col-sm-12">


            <div class="row">
                <div class="col-sm-6">
                    <h3>Attempted Calls</h3>
                    <div ng-repeat="ac in ProviderManageController.attemptedCalls" class="attemptedCallTable">
                        <div class="time"><span class="headerRow">Time: </span>{{ ::ac.timestamp * 1000 | date }}</div>
                        <div class="countryCode"><span class="headerRow">Country Code: </span>{{ ::ac.countryCode }}</div>
                        <div class="telephoneNumber"><span class="headerRow">Telephone: </span>{{ ::ac.telephoneNumber }}</div>
                        <div class="rate"><span class="headerRow">Rate: </span>{{ ::ac.rate }}</div>
                        <div class="rateCard"><span class="headerRow">Rate Card: </span>{{ ::ProviderManageController.getPrettyRateCard(ac.rateCard)}}
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <h3>Completed Calls</h3>
                    <div ng-repeat="ac in ProviderManageController.completedCalls" class="attemptedCallTable">

                        <div class="time"><span class="headerRow">Time: </span>{{ ::ac.timestamp * 1000 | date }}</div>
                        <div class="countryCode"><span class="headerRow">Country Code: </span>{{ ::ac.countryCode }}</div>
                        <div class="telephoneNumber"><span class="headerRow">Telephone: </span>{{ ::ac.telephoneNumber }}</div>
                        <div class="rate"><span class="headerRow">Rate: </span>{{ ::ac.rate }}</div>
                        <div class="rateCard"><span class="headerRow">Rate Card: </span>{{ ::ProviderManageController.getPrettyRateCard(ac.rateCard)}}</div>
                        <div class="rate"><span class="headerRow">Amount Sent In Wei: </span>{{ ::ac.amountInWei }}</div>
                        <div class="rate"><span class="headerRow">Call Seconds: </span>{{ ::ac.callInSeconds }}</div>
                        <div class="rate"><span class="headerRow">Total Cost In Wei: </span>{{ ::ac.costInWei }}</div>
                        <div class="rate"><span class="headerRow">Refund In Wei: </span>{{ ::ac.refundInWei }}</div>

                        <form class="form-inline">
                            <div class="form-group">
                                <button class="btn btn-sm" ng-click="ProviderManageController.validateCall(ac)">Validate Call</button>
                            </div>
                            <div class="form-group pull-right">
                                                    <input ng-model="completedCallAmount"
                                       style="max-width: 130px; height: 35px" />
                                <button class="btn btn-sm"
                                        ng-click="ProviderManageController.completeCall(ac, completedCallAmount)">Complete Call</button>
            
                            </div>
                        </form>
                        <br />
                        <div ng-show="ac.validatedData">
                            Validated: {{ac.validatedData}}
                        </div>
                        <div ng-show="ac.completedData">
                            Completed: {{ac.completedData}}
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

</div>